!function(e){var t={};function s(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){"use strict";s.r(t);s(1);const r=document.querySelector(".game__min"),a=document.querySelector(".game__sec"),o=document.querySelector(".game__stat-moves"),n=document.querySelector(".game__field"),i=document.querySelector(".game__button-shuffle");const c=new class{constructor(e){this.popupVictory=e}open(){this.popupVictory.addEventListener("click",this.close.bind(this),{once:!0}),this.popupVictory.classList.add("popup_is-opened")}close(){this.popupVictory.classList.remove("popup_is-opened")}}(document.querySelector(".popup__victory")),u=new class{constructor(e){this.gameStatMoves=e}reset(){this.gameStatMoves.textContent="0"}plusMove(){const e=Number(this.gameStatMoves.textContent);this.gameStatMoves.textContent=e+1}}(o),l=new class{constructor(e,t){this.minSpan=e,this.secSpan=t,this.tick=this.tick.bind(this),this.stop=this.stop.bind(this)}tick(){const e=Number(this.secSpan.textContent);if(this.secSpan.textContent=e<9?"0"+(e+1):e+1,e>58){const e=Number(this.minSpan.textContent);this.secSpan.textContent="00",this.minSpan.textContent=e<9?"0"+(e+1):e+1}}start(){this.minSpan.textContent="00",this.secSpan.textContent="00",this.secInterval=setInterval(this.tick,1e3)}stop(){clearInterval(this.secInterval)}}(r,a),p=new class{constructor({arrayOfSquares:e,gameFieldCont:t,gameSquareClass:s,gameButtonShuffle:r,popupClass:a,stopWatchClass:o,gameMoveClass:n}){this.gameSquareClass=s,this.popupClass=a,this.stopWatchClass=o,this.gameMoveClass=n,this.arrayOfSquares=e,this.gameFieldCont=t,this.gameButtonShuffle=r,this.gameButtonShuffle.addEventListener("click",this.clickButtonHandler.bind(this))}render(){this.arrayOfSquares.forEach(e=>{15===e?this.gameFieldCont.insertAdjacentHTML("beforeEnd",this.gameSquareClass.createSpace(e)):this.gameFieldCont.insertAdjacentHTML("beforeEnd",this.gameSquareClass.createSquare(e))}),this.squares=document.querySelectorAll(".game__square"),this.squareSpace=document.querySelector(".game__square-space"),this.gameFieldCont.addEventListener("click",this.clickHandler.bind(this))}clickHandler(e){e.target.classList.contains("game__square")&&this.isNearby(e.target,this.squareSpace)&&(this.gameMoveClass.plusMove(),this.squareSwap(e.target,this.squareSpace),this.isVictory()&&(this.popupClass.open(),this.stopWatchClass.stop()))}clickButtonHandler(){this.shuffle()}isNearby(e,t){const s=Math.abs(t.style.order%4-e.style.order%4),r=Math.abs((t.style.order/4>>>0)-(e.style.order/4>>>0));return 0===s&&1===r||1===s&&0===r}isVictory(){return Array.from(this.squares).every((e,t)=>this.arrayOfSquares[t]===Number(e.style.order))}squareSwap(e,t){[e.style.order,t.style.order]=[t.style.order,e.style.order]}shuffle(){const e=Array.from(this.arrayOfSquares).sort(()=>Math.random()-.5);this.squares.forEach((t,s)=>{t.style.order=e[s]}),this.gameMoveClass.reset(),this.stopWatchClass.stop(),this.stopWatchClass.start()}}({arrayOfSquares:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],gameFieldCont:n,gameSquareClass:new class{constructor(){}createSquare(e){return`<div class="game__square" style="order: ${e};">${e+1}</div>`}createSpace(e){return`<div class="game__square game__square-space" style="order: ${e};"></div>`}},gameButtonShuffle:i,popupClass:c,stopWatchClass:l,gameMoveClass:u});window.onload=()=>{p.render(),l.start(),p.squareSwap(p.squares[14],p.squares[15])}},function(e,t,s){}]);